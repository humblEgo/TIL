#### 1. 학습 날짜 // 2020-03-19(목)

#### 2. 학습시간 // 11:00~20:00(자가)

#### 3. 학습 범위 및 주제 // 도커, nginx, wordpress, phpMyAdmin, MySQL

#### 4. 동료 학습 방법 // NULL

#### 5. 학습 목표 // ft_server 완료

#### 6. 과제 제출 repository 주소 : http://13.125.198.2:3000/iwoo/Ft_server.git

---

#### 7. 상세 학습 내용

**실제 코딩에 사용한 시간: 6시간**

**문제 1) autoindex를 설정해도 기본페이지에 표시되지않는다.**

**해결 방법: /var/www/html/index.nginx-debian.html 파일을 삭제한다.**

- autoindex를 /etc/nginx/sites-available/localhost의 server block에 설정했음에도 불구하고, localhost로 접속할 경우 default nginx 홈 화면이 계속 나타났다.
- 이에 문제를 찾고자 여러 경우의 수를 강구했으나 결국 index.nginx-debian.html 파일을 삭제함으로써 문제를 해결할 수 있었다.
- 앞으로 문제를 해결할 때 **내가 원하는 화면에 영향을 미치는 default 요인**을 먼저 체크해보아야겠다!

**문제 2) 잘 작동하는지 테스트하기 위해 dockerfile을 빌드하는데 너무 시간이 오래 걸린다.**

**해결 방법: docker commit으로 테스트 성공한 부분까지 이미지로 만들고, `Dockerfile`의 `FROM`을 해당 이미지로 설정한 뒤, 테스트를 진행한다.**

- 종전에는 `FROM debian:buster`로 도커파일에 설정하여 debian buster 이미지로부터 차례로 빌드하도록 설정해두었었다.
- nginx && mysql을 설치하는 부분까지는 문제 없었으나, SSL을 설정하는 부분에서 시행착오를 겪으면서 시간이 많이 소요되었고, 특히 phpmyadmin에서 mariadb에 명령어를 넣는 부분에서 도커파일에서 잘 작동하는지 확인하는데 시간이 많이 소요되었다. 더군다나 apt 서버가 외국으로 설정되어있어서 속도가 들쑥날쑥 느려서 나의 복창은 터져만갔다.
- 이런 문제를 해결할 방법이 있을거라는 생각에 도커파일에 대해 다시 알아보았고, 처음부터 끝까지 dockerfile을 빌드하는 것이 아니라, 성공한 부분까지는 docker commit을 이용해서 local에 image를 만들고, 그 이미지 위에 빌드를 이어나가는 방식을 알게되었다. 이제사 `이미지 위에 이미지 레이어를 쌓는다`는 의미를 체감할 수 있었다.

---

#### 학습 내용에 대한 개인적인 총평 (최소 5줄 이상)

드디어...드디어 ft_server를 마쳤습니다. ft_server를 진행하면서 접한 자료들이 대부분 ubuntu에서 진행하는 것을 상정한 것이었다보니 debian에 100% 맞게 적용하기 힘든 경우가 많았습니다. 때문에 'debian이 아닌 ubuntu에서 빌드하는 과제였으면 얼마나 좋았을까'하는 생각을 많이 했었지만, 덕분에 도커의 유용함을 뼈저리게 실감할 수 있었던 것 같습니다. debian과 ubuntu의 경우처럼 **개발환경 차이**가 주는 변수가 이렇게나 많을 줄은 실감하지 못했었는데, 도커가 있으니 어디서든 '잘 돌아가는 환경'을 만들어서 프로그램을 빌드할 수 있겠다는 생각이듭니다. 만약 과제에서 `docker compose`를 허용했다면 이런 부분을 **실감**하기 어려웠을 수 있겠네요. 가족이 골치아픈 일에 연루되어 대처하는 와중에도 과제를 일주일내에 제출할 수 있어서 다행입니다.

---

#### 다음 학습 계획 (최소 5줄 이상)

1. graphic 과제 시작하기
2. 자바스크립트 가볍게 익혀보기
3. 다른 분이 올려주신 LEMP + wordpress 올리는 영상 슥 보기
4. 알고리즘 문제 1개 풀기
5. 뽀모도로 실천하기
