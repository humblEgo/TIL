#### 1. 학습 날짜 // 2020-04-26(일)

#### 2. 학습시간 // 13:00~22:00

#### 3. 학습 범위 및 주제 // slack bot, git, slack API

#### 4. 동료 학습 방법 // 42project 팀원들과 온라인 회의 진행

#### 5. 학습 목표 // 트렐로 task 중 하나 이상 해결하기

---

#### 6. 상세 학습 내용

- request 모듈에 대한 이해도 증가
- command_view 함수의 구조 완성(user에게 보여질 get_attachment 함수 영역 제외)
- Datetime 함수와 UTC에 대한 학습을 진행함으로써 서버에서 시간을 잘 다룰 수 있게 됨
- match 함수를 기능적으로 구현함. random 라이브러리의 sample 함수를 이용해 2 유저씩 매칭.

**이슈**

- 지금 get_attachment 함수는 commandview에 대한 것만 만들기로 했는데, 다른 메세지를 추가로 보내야할 수 있고, 이 때 get_attachment 함수가 그대로 쓰일 수 없을 것 같다.
  - 지금 1.0 버전에 필요한 기능은 아닌 것 같고, 다음 버전으로 갈 때 리팩토링해서 get_attachment 클래스를 만들고 안에 commandview, feedback같은 함수를 따로 만들어서 쓰는 방향 결정
- info 커맨드 기능에 재정의 필요성 논의 필요
  - 개발 계획에서 info 커맨드를 구현할 때 우리가 생각했던 게 ‘join, register에 관한 정보들을 간단하게 조회하는 기능'이었다고 생각. interest를 구현할 경우 관심사 정보를 추가적으로 구현할 수 있음.
  - info는 기본적으로 버튼 구현 없이 42mate 커맨드 입력시 보여주는 방향으로 하되, history 커맨드 개발에 대해 추후 고려하는 방향 결정
- 시간과 관련된 코드들은 UTC로 통일할지 여부결정 필요
  - UTC를 베이스로 시간과 관련된 코드들을 다루고자 함. heroku 서버의 경우 UTC로 시간이 기록되지만, 시간을 다룰 때 확실하게 UTC로 변환시켜서 쓰는 것으로 개발.
- Attachment 대신 Blocks를 쓸지 논의 필요
  - attachments는 blocks의 하위개념으로 보인다. attachment는 block 안에 넣어서 쓰도록 함. 현재 attachment를 다루는 함수들을 block을 다루는 함수로 변경 필요
- match 함수에서 db에 접근하는 회수가 많고, 리팩토링할 여지들이 있음.
  - joined 값을 false로 전환하는 코드는 한 번에 처리할 수 있도록 개선. select도 최초 한 번, 커밋도 최종적으로 한 번 하는 방향으로 개선.
- 스케쥴러 기능의 경우, sleep문이 들어있는데 그 값에 따라 스케쥴외의 기능도 멈출 것 같다고 추정됨.
  - 문제가 확실히 있는지 확인하고, 쓰레드 개념을 적용하여 해결할 수 있는지 확인할 필요있음.

---

#### 학습 내용에 대한 개인적인 총평 (최소 5줄 이상)

공식 API 문서를 열심히 읽은 하루였습니다. 한글로 된 문서를 읽을 때보다 속도가 많이 떨어지는 것을 느끼고 이를 보완해야겠다는 생각이 들었습니다.
또한 오픈소스에 기여하는 경험을 간접적으로 하여 기뻤습니다. Slack API를 간편하게 쓰기 위해 활용하고 있는 Slacker 라이브러리에서 post_message 모듈에서 block 인자를 받을 때 필요한 jsonify 처리가 일어나지 않음을 재열님과 확인하였습니다. 결과적으로 재열님이 현재 배포되어있는 오픈소스의 결함을 찾아내고, 결함을 고치는 pull request를 진행해주신 셈인데 동기부여가 되었습니다.
이와 별개로 제가 맡은 task를 좀처럼 완료하지 못하고 있는 것이 마음에 걸립니다. 오늘은 꼭 제대로 마무리지어서 떳떳하게 미팅에 임할 수 있도록 해야겠습니다.

---

#### 다음 학습 계획 (최소 5줄 이상)

- match 함수 리팩토링. 12시 정각에 실행되도록 스케쥴러 추가. sleep의 파라미터에 따른 앱 이슈 여부 확인 필요.
- callback함수 내에 버튼 클릭에 따른 분기동작 구현
- get_blocks 함수 구현. 로컬 환경 세팅 -> Heroku dev 로 변경
- 클린코드 책 10장 읽기
- 멘토링 받기
