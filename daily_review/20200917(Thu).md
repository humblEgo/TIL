1. 학습 날짜 // 2020-09-17(목)
2. 학습시간 // 9:00~22:0목

3. 학습 범위 및 주제 // container

4. 동료 학습 방법 // sanam에게 궁금한 점을 물어보며 진행함.
5. 학습 목표 // ft container 과제를 수행하기 위해 필요한 지식을 익힌다.

---

6. 상세 학습 내용

### 디버거란?

디버거는 **디버깅 대상(Debugee) 프로세스의 메모리를 읽고 쓸 수 있으며, 중단점과 같은 디버깅 대상 프로세스가 발생하는 다양한 디버그 이벤트에 반응하는 프로그램**이다

디버거는 일반적으로 디버깅 대상 프로세스를 새로 시작하거나, 이미 수행중인 프로세스에 디버거를 연결(Attach)하게 된다.

일단 디버깅 대상 프로세스와 연결이 끝나면, 디버거는 아래 '디버그 이벤트'를 기다리고 이들 디버그 이벤트 중 하나가 발생하면 그 이벤트를 처리하는 과정을 반복하게 된다. 이 반복 루프를 **디버거 루프(Debugger loop)**라고 한다.

- DLL 로드
- 중단점
- 싱글 스텝(Single-step)
- 예외 발생 등등

### 그래서 중단점은 어떻게 작동하는가?

> 대부분의 중단점은 CPU가 인식하는 중단점 기계 명령이 수행될 때 운영체제 커널로 트랩이 발생하는 하드웨어적인 기능을 사용한다. 운영체제 커널은 중단점 트랩이 발생될 때 중단점이 발생한 프로세스에 디버거가 연결돼 있다면 디버거에게 중단점 디버거 이벤트를 발생시켜준다.

아하 운영체제 커널이 관여하는 것을 알 수 있다. 그렇다면 디버거는 어떻게 중단점을 설정하는 것일까? 중단점이 설정되면 디버거는 중단점이 설정된 디버깅 대상 **프로세스 주소의 명령어를 중단점 명령으로 바꾼다.** 이 때 중단점 명령으로 바꾸기 전의 명령은 디버거 내부에 기억해두고 후에 원상복귀 시킨다. 그리고 디버거는 **디버그 심볼**을 통해 정보를 파악하여 소스코드상에 설정된 중단점을 수행 중인 프로세스의 메모리 주소상의 중단점으로 매핑시킨다.

### 디버그 심볼

디버그 심볼은 코드를 컴파일해 모듈(DLL, EXE)을 생성하는 과정에서 컴파일러에 의해 만들어진다. vscode에서 디버그시 생성되는는`.PDB` 파일이 디버그 심볼 파일이다.
이 PDB 파일 내에 변수, 함수, 소스 위치정보가 포함되어있다.

[참고](https://hopeis.tistory.com/270)

---

7. 학습 내용에 대한 개인적인 총평

python으로는 디버깅하는 것이 쉬웠는데, C++ 로 작성된, makefile로 얼기설기 엮인 프로그램을 디버깅하는데는 어려움을 겪었습니다. 여러모로 시도해보았는데 뾰족한 방법이 떠오르지 않아서 42보칼인 jai에게 물어보기로 결심했습니다.

---

다음 학습 계획

- vector 구현 완료
