1. 학습 날짜 // 2020-11-03(화)
2. 학습시간 // 9:00~22:00

3. 학습 범위 및 주제 // 오류 제거, close 함수 개선
4. 동료 학습 방법 // sanam, yohai 님과 토의함
5. 학습 목표 // 오류의 원인을 찾아 해결하고, 비슷한 오류가 발생하지 않도록 팀 협업방식을 정비한다.

---

6. 상세 학습 내용

![image](https://user-images.githubusercontent.com/54612343/98460741-3e868800-21ea-11eb-94bd-a4284d27d978.png)

![image](https://user-images.githubusercontent.com/54612343/98460361-15b0c380-21e7-11eb-8579-eb1d2c30df1a.png)

이미 셋팅된 상태코드가 response를 보낼 때면 자꾸 의도치않은 상태로 변경된다. 

확인해보니 상태코드를 Request 객체에 저장하는 방식에서 Response 객체에 저장하는 방식으로 바꾸는 과정에서 삭제되었어야했던 코드가 미처 삭제되지 않은 것이 원인이었다.

반복되는 여러 에러를 추적하기 위해 팀원들과 협의하여 log에 trace함수를 추가해서 함수별로 실행 종료 시점을 표시하도록 하였다.

또한 fd를 닫을 때 해줘야하는 일련의 과정을 묶어서 실수없이 진행할 수 있도록 `closeFdAndSetClientOnWriteFdSet` 함수를 만들었다.

---

7. 학습 내용에 대한 개인적인 총평

실수에 대해서 생각해보게 됩니다. 프로젝트에 실수가 반영되지 않도록 하는 것은 1) 실수가 발생하지 않도록 하거나 2) 발생한 실수가 프로젝트에 반영되지 않도록 하는 두 가지 노력이 필요하다고 생각합니다. 

개인적으로 어차피 개인이 줄일 수 있는 실수는 한계가 있다고 생각합니다, 후자의 노력의 일환으로 좋은 시스템을 만들어야할 것입니다.

제가 느끼기엔 어떤 코드 변경에 대해서 발생할 수 있는 잠재적인  '능동적인' 리뷰가 가능하도록 PR하고, 기대한만큼 '능동적인' 리뷰를 하도록해야 실수를 줄일 수 있을 것 같습니다. 

능동적인 리뷰는 어떻게 유도할 수 있을까요? 충분한 정보가 제공되어야하고 정성적인 노력을 쏟도록 분위기를 만들 필요가 있습니다.

이를 위해서는 PR시에 단순히 코드를 설명하는 것이 아니라, '배경', '목적', '예상되는 위험' 을 함께 PR에 포함시키도록 하고자 합니다. 여기에 PR을 검토하는 것이 절대 시간낭비가 아니라는 점을 팀원들에게 주지시켜야겠네요.

---

다음 학습 계획

- CGI, Response 구현

