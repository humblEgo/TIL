1. 학습 날짜 // 2020-08-18(화)

2. 학습시간 // 9:00~22:00

3. 학습 범위 및 주제 // C++ 

4. 동료 학습 방법 // -

5. 학습 목표 // C++ module01 진행에 필요한 지식을 얻는다.

---

6. 상세 학습 내용


# CPP Module01

키워드: 스트링스트림, const, 참조변수

---


## 참조변수

- 참조형은 참조하는 값과 동일하게 작동한다. 따라서 참조되는 객체의 별칭으로 사용된다.

- 참조형은 선언과 동시에 반드시 초기화해야한다. 

- 초기화된 후에는 다른 변수를 참조하도록 변경할 수 없다.
- non-const 값에 대한 참조는 non-const 값으로만 초기화할 수 있다.
- 참조형은 함수 매개변수로 가장 많이 사용된다. 이 때 매개 변수는 인수의 별칭으로 사용되며, 복사본이 만들어지지 않는다. 마치 포인터를 매개변수 받을 때처럼, 전달된 참조형 매개변수로 인수를 수정할 수 있다.

#### References vs Pointers

참조형은 내부적으로 포인터를 사용하여 컴파일러단에서 구현된다. 참조형은 선언과 동시에 유효한 객체로 초기화해야하고, 일단 초기화되면 변경할 수 없으므로 포인터보다 사용하는 것이 훨씬 안전하다.



## C++에서의 static

static 변수는 전역변수와 같이 초기화되지 않은 경우엔 ''.bass variable' 메모리 영역에서, 초기화된 경우엔 'data variable' 메모리 영역에 저장된다.

C++에서는 static 변수의 이런 특성을 세가지 다른 용도로 사용한다. 

1. 클래스 내의 static 멤버, 함수
   - static 멤버 변수와 함수는 객체별로 따로 존재하지 않는다. 모든 객체에 공통으로 존재한다.
   - static 멤버 함수는 해당 클래스와 유사한 작업을 하거나 딱히 객체와 연관없는 일을 처리할 때 유용하다. 예를 들어, 암호화 및 인코딩을 해주는 클래스가 있다.
2. static 링킹
   - 소스파일을 컴파일하여 오브젝트 파일들을 만들고, 오브젝트 파일들을 하나로 링킹하여 실행파일을 만들어낼 때,  함수나 변수 이름을 기준으로 함수 호출, 변수 참조 등을 연결한다. 이 때 같은 소스 파일 안에서 연결되는 것을 '내부링킹'이라 하고, 외부 소스파일과 연결하는 것을 '외부 링킹'이라고 한다. 일반적인 함수나 전역변수는 외부링킹이 적용되지만 명시적으로 static을 적용하여 내부링킹으로 만들 수 있다.
   - C++에서는 내부링킹을 위해 함수마다 static을 붙이는 것을 대신하기 위해 **무명 네임스페이스**를 도입했다.
3. 함수 내 static 변수
   - static 로컬 변수는 함수가 끝난 뒤에도 계속 상태가 유지된다.



## C++에서의 파일 입출력

#### 파일읽기

<fstream> 헤더에 속한 ifstream 클래스를 쓴다. ifstream은 Input file stream의 줄임말로, 파일로부터 read한 내용을 프로그램에 입력할 수 있게 도와주는 클래스이다.

클래스 내 함수들 중 자주 쓸만한 것들은 아래와 같다.

1. `open` : 파일 열 때 사용
2. `is_open` : 파일 열렸는지 확인할 때 사용
3. `close`: 열린 파일 닫아줄 때 사용
4. `get`: 파일에서 char 한 단위씩 읽어올 때 사용
5. `getline`: 파일에서 한 라인씩 읽어올 때 사용. 
   - 그런데 <string> 헤더에 속한 `std::getline`이 string 타입으로 읽을 수 있어서 사용하기 편하다.
6. `eof`: 파일의 끝이 나오면 true를 반환, 아니면 false를 반환.

#### 파일쓰기

<fstream>헤더에 속한 ofstream 클래스를 쓰낟. ofstream은 Output file stream의 줄임말로, 프로그램의 출력을 file에 할 수 있게 돕는 클래스이다.

ifstream과 겹치지 않는 것 중에 자주 쓸만한 것은 아래와 같다.

1. write 함수
   - 원형: `ostream& write(const char *str, streamsize n);`
   - 첫번째 매개변수로 받은 캐릭터 포인터 타입의 문자열의 n만큼의 길이만큼 파일에 write하는 함수.

[참고](https://blockdmask.tistory.com/322)



## Tips

#### ex07

읽어오는 파일의 끝에 개행이 붙은 경우와 붙지 않은 경우를 나눠서 처리하자.

---    
    
7. 학습 내용에 대한 개인적인 총평 

어제는 C++과 C가 다른 점을 많이 느꼈다면, 오늘은 C++과 C가 정말 닮았다는 것을 느꼈습니다. 
파일입출력 함수의 경우 C에서 다루던 것보다 편해져서 쉽게 활용할 수 있었네요. 다만 '참조변수'에 대해서는 이해가 부족한 것을 느끼는데 계속 활용하면서 익숙해져야겠습니다.

---

다음 학습 계획

- CPP Module02 구현시작