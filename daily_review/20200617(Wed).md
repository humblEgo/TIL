#### 1. 학습 날짜 // 2020-06-17(수)

#### 2. 학습시간 // 9:00~22:00

#### 3. 학습 범위 및 주제 // virtualbox로 쿠버네티스 마스터 1개, 노드 2개 환경 셋팅

#### 4. 동료 학습 방법 // eunhkim님과 ft_services의 도커파일 구성 방법을 탐구함.

#### 5. 학습 목표 // 쿠버네티스 실습이 가능한 상태로 만든다.

---

#### 6. 상세 학습 내용

인프런 강의 가이드에서는 `yum install -y --disableexcludes=kubernetes kubeadm-1.15.5-0.x86_64 kubectl-1.15.5-0.x86_64 kubelet-1.15.5-0.x86_64` 입력을 통해
kubeadm과 kubectl, kubelet을 설치하도록 하고 있다.

하지만 가이드대로 진행했을 때 하단 같은 오류메세지가 뜨며 더이상 진행되지 않았다.

![setting_error2](https://user-images.githubusercontent.com/54612343/85218608-c5bb9680-b3d6-11ea-8dd7-aeac8b9c9198.JPG)

이에 `yum install kubernetes-cni = 0.7.5-0` 커맨드를 쳐서 cni 버전을 0.7.5-0 이상으로 변경해보았으나 아래와 같은 오류메세지가 뜨며 여전히 잘 진행되지 않았다.

![after_install_cni](https://user-images.githubusercontent.com/54612343/85218661-4084b180-b3d7-11ea-96b6-5f6d5494ca83.JPG)

요구하는 cni 버전을 맞춰줬는데 도대체 왜 해결되지 않는가?!

혹시나하여 확인해보니 `yum install kubernetes-cni = 0.7.5-0` 커맨드를 입력시 kubelet이 1.18.4-0 버전으로 설치된 것을 알 수 있었다. 이에 `yum downgrade` 커맨드로 kubelet을 강좌가이드에서 권장했던 1.15.5-0 버전으로 변경해보았으나 여전히 문제가 해결되지 않았다.

알고보니 [kubelet-1.15.5-0 버전 자체 이슈](https://github.com/kubernetes/kubernetes/issues/92242)가 있었다.

결과적으로 가이드와 달리 kubeadm과 kubectl, kubelet을 모두 최신버전으로 설치하여 진행하기로 하였다.

한편 저번에 시도하였던 `네트워크 어댑터 별로 NAT, host-only 모드를 설정하여 마스터, 노드 설정하기`는 실패하였다. 온갖 삽질을 해보았지만 시간만 버리고 해결이 되지않길래 일단 질문을 올리고 쿠버네티스 튜토리얼을 하기로 결정하였다.

---

#### 학습 내용에 대한 개인적인 총평

무수한 삽질의 연속인 하루였습니다. 아마도 현업에서는 비슷한 상황이 많을 것도 같은데, 직접 코딩하는 시간보다 환경 셋팅하는데 시간을 다 쓰니 여러모로 힘듭니다.
그래도 평소 약하다고 생각했던 네트워크에 대해서 좀 더 이해를 높일 수 있었습니다. 만약 백엔드 엔지니어로 일하게 된다면 관련해서 능통해야할 것 같습니다.

---

#### 다음 학습 계획

- 쿠버네티스 튜토리얼 진행
