1. 학습 날짜 // 2020-06-22(월)

2. 학습시간 // 9:00~22:00

3. 학습 범위 및 주제 // virutalbox로 쿠버네티스 네트워크 환경 구성

4. 동료 학습 방법 // -

5. 학습 목표 // virutalbox로 쿠버네티스 네트워크 환경 구성해서 master, pod간에 통신가능하도록 만들기

---

6. 상세 학습 내용

일전에는 virtualbox로 네트워크 환경을 구성하는데 어려움을 겪었다.

브릿지 네트워크로 설정하려했으나 고정네트워크 할당이 불가한 환경에서는 쓸 수 없다는 아쉬움이 있었다.

이에 어댑터를 2개로 써서 하나는 'NAT 네트워크'로 구성하여 외부와 통신을 주고받도록 셋팅하고, 나머지 하나는 'Host only 네트워크'로 셋팅하여 마스터 노드와 worker노드간에 통신을 주고받도록 셋팅하도록 하고자 했다가 실패했었다.

너무 해결하고 싶어서 강의자분께 연락드려 해결책을 받았고, 드디어 해결하였다.

 도움받은 부분은 아래와 같다.

NatNetwork 설정

    1. 파일 > 환경설정 > 네트워크 > 새 NAT 네트워크 생성 추가
    2. 편집 버튼 클릭
       - 네트워크 CICR 수정 : 30.0.2.0/24

Host-only 네트워크 설정

    1. 파일 > 호스트 네트워크 관리자  > 만들기 
    2. DHCP 서버 [사용안함]
    3. 속성 버튼 클릭
       - IPv4 주소 : 192.168.56.1
       - IPv4 서브넷 마스크 : 255.255.255.0

Hosts 등록

계획된 마스터와 노드의 호스트 이름과 IP를 등록하는 과정이다. 이 과정이 없으면 kubeadm init시 Host이름으로 IP를 찾을 수 없다고 에러가 난다.

    cat << EOF >> /etc/hosts
    30.0.2.30 k8s-master
    30.0.2.31 k8s-node1
    30.0.2.32 k8s-node2
    EOF

---

학습 내용에 대한 개인적인 총평

오랜 기간의 삽질 끝에 쿠버네티스에 관한 강의를 들을 수 있게되어 기분이 좋습니다. 정작 본과정은 강의와 달리 minikube를 이용하여 간단하게 구현할 것 같지만 쿠버네티스에 대해서 좀 더 자세히 파보아야겠습니다.

은휼님과 함께 다른 학습자의 코드를 보면서 공부했던 것이 도움이 된 것을 느꼈습니다. 빠르게 학습하려면 다른 사람의 코드를 참고하고, 그 중 '내가 모르는 것'을 확실히 식별해서 깊게 학습하는 전략을 취하는게 최고라 느껴집니다.

---

다음 학습 계획

- minishell 학습에 필요한 사항 공부하기
- IBM C:louders 지원요건 갖추기
